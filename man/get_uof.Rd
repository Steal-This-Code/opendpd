% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_uof.R
\name{get_uof}
\alias{get_uof}
\title{Fetch Dallas Police Use of Force / Response to Resistance Data (2017-2020)}
\usage{
get_uof(
  year,
  start_date = NULL,
  end_date = NULL,
  force_type = NULL,
  reason = NULL,
  service_type = NULL,
  limit = 1000,
  select = NULL,
  where = NULL,
  ...
)
}
\arguments{
\item{year}{Numeric. The specific year for which to retrieve data. **Must be
between 2017 and 2020 (inclusive).**}

\item{start_date}{Optional. A character string in 'YYYY-MM-DD' format or a
Date object specifying the minimum incident date (inclusive). Filters on
`OCCURRED_D` (for years 2017-2019) or `OCCURRED_DT` (for year 2020).}

\item{end_date}{Optional. A character string in 'YYYY-MM-DD' format or a
Date object specifying the maximum incident date (inclusive). Filters on
`OCCURRED_D` or `OCCURRED_DT` based on the year.}

\item{force_type}{Optional. A character vector of force types to filter by
(e.g., 'Pointing Firearm', 'Taser Display', 'Physical Force'), matching the `ForceType` field.}

\item{reason}{Optional. A character vector of UOF reasons to filter by
(e.g., 'Resisting Arrest', 'Prevent Escape'), matching the `UOF_REASON` field.}

\item{service_type}{Optional. A character vector of service types to filter by
(e.g., 'Warrant Service', 'Disturbance Call'). Filters on `SERVICE_TY` (2017-2019)
or `SERVICE_TYPE` (2020).}

\item{limit}{The maximum number of records to return for the specified year.
Defaults to 1000. Use `limit = Inf` to attempt retrieving all records for that year.}

\item{select}{A character vector specifying which columns to retrieve. Column names
vary by year - check the portal for the specific year's schema. If NULL (default),
all columns for that year are retrieved.}

\item{where}{An optional character string containing a custom SoQL WHERE clause
(e.g., `"offrace = 'WHITE'"` or `"beat = '114'"` if applicable for that year).
Overrides other filter arguments if provided.}

\item{...}{Additional SODA query parameters passed directly to the API URL,
(e.g., `$order = "occurred_dt DESC"` for 2020 or `$order = "occurred_d DESC"` for 2017-2019).}
}
\value{
A `tibble` containing the requested UOF data for the specified year (2017-2020).
  **Note:** Column names and data types may differ depending on the `year` requested.
}
\description{
This function queries the Socrata Open Data API (SODA) for Dallas Police
UOF data for a single specified year. **Currently, only data for years 2017 through
2020 is supported by this function.** Data is split by year on the portal,
and column names/types may vary between years within this range.

Filtering by common fields like force type, reason, and service type is supported.
Due to inconsistencies across yearly datasets, detailed geographic filters and
automatic geographic object conversion are not available in this function.
Use the `where` argument for more specific filtering needs.

If the `where` argument is provided, it overrides all other filter arguments.
}
\details{
Retrieves Use of Force (UOF) / Response to Resistance data for a specific year
(currently 2017-2020) from the Dallas Open Data portal API.
}
\examples{
\dontrun{
# Get first 50 UOF records for 2020, order descending by date
# Date field is occurred_dt for 2020
uof_2020 <- get_uof(year = 2020, limit = 50, `$order` = "occurred_dt DESC")
print(names(uof_2020))

# Get UOF records for 2019 where Taser Cartridge was used
taser_2019 <- get_uof(year = 2019, force_type = "Taser Cartridge")
print(taser_2019)

# Get UOF records for 2018 related to 'Resisting Arrest' reason
resist_2018 <- get_uof(year = 2018, reason = "Resisting Arrest", limit = 100)
print(resist_2018)

# Get specific columns for 2017 UOF data
# Date field is occurred_d for 2017
uof_2017_select <- get_uof(
  year = 2017,
  select = c("uofnum", "occurred_d", "forcetype", "uof_reason"),
  limit = 20
)
print(uof_2017_select)

# Example of trying an unsupported year (will produce an error)
# try(get_uof(year = 2021))
}
}
