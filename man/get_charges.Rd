% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_charges.R
\name{get_charges}
\alias{get_charges}
\title{Fetch Dallas Police Arrest Charge Data}
\usage{
get_charges(
  start_date = NULL,
  end_date = NULL,
  charge_description = NULL,
  severity = NULL,
  penalty_class = NULL,
  statute = NULL,
  nibrs_group = NULL,
  nibrs_code = NULL,
  nibrs_crime_against = NULL,
  limit = 1000,
  select = NULL,
  where = NULL,
  ...
)
}
\arguments{
\item{start_date}{Optional. A character string in 'YYYY-MM-DD' format or a
Date object specifying the minimum arrest date (inclusive, based on `arrestdate` text field).}

\item{end_date}{Optional. A character string in 'YYYY-MM-DD' format or a
Date object specifying the maximum arrest date (inclusive, based on `arrestdate` text field).}

\item{charge_description}{Optional. A character vector of charge descriptions
to filter by (maps to `chargedesc` field). Case-sensitive.}

\item{severity}{Optional. A character vector of charge severities to filter by
(e.g., 'FELONY', 'MISDEMEANOR'), matching the `severity` field.}

\item{penalty_class}{Optional. A character vector of penalty classes to filter by
(e.g., 'FS' - State Jail Felony, 'MA' - Misdemeanor A, 'MC' - Misdemeanor C),
matching the `pclass` field.}

\item{statute}{Optional. A character vector of statute codes to filter by, matching
the `statute` field.}

\item{nibrs_group}{Optional. A character vector of NIBRS Group codes (e.g., 'A', 'B')
to filter charges.}

\item{nibrs_code}{Optional. A character vector of specific NIBRS offense codes
(e.g., '13A', '90Z') to filter charges.}

\item{nibrs_crime_against}{Optional. A character vector specifying the NIBRS
'Crime Against' category (e.g., 'PERSON', 'PROPERTY', 'SOCIETY'), matching
the `nibrs_crimeagainst` field.}

\item{limit}{The maximum number of records to return. Defaults to 1000.
Use `limit = Inf` to attempt retrieving all matching records.}

\item{select}{A character vector specifying which columns to retrieve.
If NULL (default), all columns are retrieved.}

\item{where}{An optional character string containing a custom SoQL WHERE clause
(e.g., `"holdtype = 'IMMIGRATION'"`). Overrides other filter arguments if provided.}

\item{...}{Additional SODA query parameters passed directly to the API URL,
(e.g., `$order = "arrestdate DESC"`).}
}
\value{
A `tibble` containing the requested arrest charge data.
}
\description{
This function queries the Socrata Open Data API (SODA) for Dallas Police
Arrest Charges. It allows filtering by arrest date range, charge details
(description, severity, class, statute), and NIBRS classifications. It supports
retrieving large datasets through automatic pagination. Note: Geographic filters
and geographic object conversion are not available for this dataset. The primary
date field (`arrestdate`) is stored as text in the source data.

If the `where` argument is provided, it overrides all other filter arguments.
}
\details{
Retrieves arrest charge data from the Dallas Open Data portal API
(SODA endpoint 9u3q-af6p).
}
\examples{
\dontrun{
# Get 10 most recent arrest charges (ordered by arrestdate text field)
recent_charges <- get_charges(limit = 10, `$order` = "arrestdate DESC")
print(recent_charges)

# Get Felony charges from April 2024
felony_apr24 <- get_charges(
  start_date = "2024-04-01", end_date = "2024-04-30",
  severity = "FELONY",
  limit = 200
)
print(felony_apr24)

# Get charges related to a specific statute
statute_charges <- get_charges(statute = "49.04", limit = 50) # Example statute
print(statute_charges)

# Get NIBRS Group B charges with penalty class 'MC' (Misdemeanor C)
mc_groupb <- get_charges(nibrs_group = "B", penalty_class = "MC", limit = 100)
print(mc_groupb)
}
}
