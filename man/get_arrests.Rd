% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_arrests.R
\name{get_arrests}
\alias{get_arrests}
\title{Fetch Dallas Police Arrest Data}
\usage{
get_arrests(
  start_date = NULL,
  end_date = NULL,
  zip_code = NULL,
  beat = NULL,
  sector = NULL,
  district = NULL,
  limit = 1000,
  select = NULL,
  where = NULL,
  ...
)
}
\arguments{
\item{start_date}{Optional. A character string in 'YYYY-MM-DD' format or a
Date object specifying the minimum arrest date (inclusive, based on `ararrestdate` field).}

\item{end_date}{Optional. A character string in 'YYYY-MM-DD' format or a
Date object specifying the maximum arrest date (inclusive, based on `ararrestdate` field).}

\item{zip_code}{Optional. A character or numeric vector of Zip Code(s) where the
arrest occurred (`arlzip`).}

\item{beat}{Optional. A character or numeric vector of Police Beat(s) where the
arrest occurred (`arlbeat`).}

\item{sector}{Optional. A character or numeric vector of Police Sector(s) where the
arrest occurred (`arlsector`).}

\item{district}{Optional. A character vector of Police District names where the
arrest occurred (`arldistrict`).}

\item{limit}{The maximum number of records to return. Defaults to 1000.
Use `limit = Inf` to attempt retrieving all matching records.}

\item{select}{A character vector specifying which columns to retrieve.
If NULL (default), all columns are retrieved.}

\item{where}{An optional character string containing a custom SoQL WHERE clause
(e.g., `"race = 'BLACK'"`). Overrides other filter arguments if provided.}

\item{...}{Additional SODA query parameters passed directly to the API URL,
(e.g., `$order = "ararrestdate DESC"`).}
}
\value{
A `tibble` containing the requested arrest data.
}
\description{
This function queries the Socrata Open Data API (SODA) for Dallas Police
Arrests. It allows filtering by date range, geographic areas (zip, beat,
district, sector) and supports retrieving large datasets through automatic pagination.
Note: Filtering by charge description/category via dedicated arguments has been
removed due to field name inconsistencies; use the 'where' argument for this.
Geographic conversion has also been removed due to missing coordinate fields
in the confirmed field list.

If the `where` argument is provided, it overrides all other filter arguments.
}
\details{
Retrieves arrest data from the Dallas Open Data portal API
(SODA endpoint sdr7-6v3j).
}
\examples{
\dontrun{
# Get 10 most recent arrests
recent_arrests <- get_arrests(limit = 10, `$order` = "ararrestdate DESC")
print(recent_arrests)

# Get arrests in specific beats during March 2024
march_arrests_beat <- get_arrests(
  start_date = "2024-03-01", end_date = "2024-03-31",
  beat = c(114, 121), # arlbeat is numeric
  limit = 100
)
print(march_arrests_beat)

# Use 'where' to filter (e.g., by race - use with caution/awareness)
arrests_filtered <- get_arrests(
  where = "race = 'BLACK'",
  limit = 50,
  start_date = "2024-04-01", end_date = "2024-04-30"
)
print(arrests_filtered)
}
}
